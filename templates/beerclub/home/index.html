{% extends "base.html" %}

{% block title %}Welcome Home!!{% endblock title %}

{% block content %}
{% load crispy_forms_tags %}


<div class="w3-mobile w3-center">
	<div class="w3-beer w3-container w3-padding-bottom">
		<h3 class="w3-half w3-cell"><b>{{ request.user.username }}'s beer profile</b></h3>
		<div class="w3-right w3-half w3-cell w3-margin-top w3-padding-left w3-padding-right">{% crispy form %}</div>
	</div>
	<div class="w3-container w3-padding">
		<div class="w3-cell w3-half w3-left w3-padding-bottom">
			<h3 class="beerheading">favorites</h3>
			{% if fav_beer_check == False %}
			<div class="content-blankstate content-1">Try finding a favorite in the search box above</div>
			{% endif %}
			<div class="w3-center homebeer w3-padding-top">			
			{% for beer in favorite|dictsort:"beer_name"|dictsort:"beer_company" %}
			{% if beer.is_active == True %}
			<div class="content-base">
				<div class="content-1"><a href="/home/findbeer/{{ beer.bdb_id }}/">{{ beer.beer_name }}</a><span class="content-2"> {{ beer.beer_company }}</span></div>
			</div>
			{% endif %}
			{% endfor %}
			</div>
		</div>
		<div class="w3-cell w3-half w3-right w3-padding-bottom">
			<h3 class="beerheading">most wanted</h3>
			{% if want_beer_check == False %}
			<div class="content-blankstate content-1">Hint: "Beer Me"</div>
			{% endif %}
			<div class="w3-center homebeer w3-padding-top">
			{% for beer in wanted|dictsort:"beer_name"|dictsort:"beer_company" %}
			{% if beer.is_active == True %}
			<div class="content-base">
				<div class="content-1"><a href="/home/findbeer/{{ beer.bdb_id }}/">{{ beer.beer_name }}</a><span class="content-2"> {{ beer.beer_company }}</span></div>
			</div>
			{% endif %}
			{% endfor %}
			</div>
		</div>
	</div>
	<div class="w3-container w3-padding">
		<div class="w3-cell w3-half w3-left w3-padding-bottom">
			<h3 class="beerheading">upcoming events</h3>
			<div class="w3-center homebeer w3-padding-top">
			{% for event in events %}
			{% if event.is_active == True %}
			<div class="content-base">
				<div class="content-1"><a href="/event/{{ event.id }}/">{{ event.event_name }}</a></div>
				<div class="content-2">{{ event.address }}</div>
				<div class="content-3">{{ event.event_date|date:'n/j/y g:i A'|lower }}</div>
			</div>
			{% endif %}
			{% endfor %}
			</div>
		<div class="w3-padding-top homecompany w3-margin-right w3-margin-top">See All Upcoming Events</div>
		</div>
		<div class="w3-cell w3-half w3-right">
			<h3 class="beerheading">past events</h3>
			<div class="w3-center homebeer w3-padding-top">
			{% for event in past_events %}
			{% if event.is_active == True %}
			<div class="content-base">
				<div class="content-1"><a href="/event/{{ event.id }}/">{{ event.event_name }}</a></div>
				<div class="content-2">{{ event.address }}</div>
				<div class="content-3">{{ event.event_date|date:'n/j/y g:i A'|lower }}</div>
			</div>
			{% endif %}
			{% endfor %}
			</div>
		<div class="w3-padding-top w3-margin-top homecompany w3-margin-right">See All Past Events</div>
		</div>
	</div>
	<div class="w3-container w3-padding">
		<div class="w3-cell w3-half w3-left w3-padding-bottom">
			<h3 class="beerheading">recent notes</h3>
			{% if beer_notes_check %}
			<div class="w3-center homebeer w3-padding-top">
			{% for note in beer_notes %}
			<div class="content-base">				
				<div class="content-1" style="text-align: left;"><a href="/home/findbeer/{{ note.bdb_id }}/">{{ note.beer_name }}</a> <span class="content-2">{{ note.beer_company }}</span></div>
				<div class="content-wrapper w3-margin-0"><div class="content-3">{{ note.note }}</div></div>			
			</div>
			{% endfor %}
			</div>
			{% else %}
			<div class="content-blankstate content-1">Enter notes at the bottom of a selected beer page</div>
			{% endif %}

		<div class="w3-padding-top homecompany w3-margin-right w3-margin-top"><a href="/home/notes/">See All Notes</a></div>
		</div>
		<div class="w3-cell w3-half w3-left w3-padding-bottom">
			<h3 class="beerheading">recent ratings</h3>
			{% if beer_rating_check %}
			<div class="homebeer w3-padding-top">
			{% for rating in beer_rating %}
			<div class="content-base">			
				<div class="content-1"><a href="/home/findbeer/{{ rating.rating.content_object.bdb_id }}/">{{ rating.rating.content_object.beer_name }}</a>  
					<span class="content-2">{{ rating.rating.content_object.beer_company }}</span> 
					<span class="content-3">{{ rating.score }} / 10</span>
				</div>				
			</div>
			{% endfor %}
			</div>
			{% else %}
			<div class="content-blankstate content-1">Ratings added at the top of a selected beer page</div>
			{% endif %}
		<div class="w3-padding-top homecompany w3-margin-right w3-margin-top"><a href="/home/ratings/">See All Ratings</a></div>
		</div>
	</div>
	<br>
</div>
{% endblock content %}
